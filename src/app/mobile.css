/* Mobile-first optimizations for Sentra */

/* Mobile viewport and touch optimizations */
@media (max-width: 1024px) {
  /* Prevent text size adjustment on orientation change */
  html {
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
  }

  /* Smooth scrolling for mobile */
  html {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }

  /* Remove tap highlight on mobile */
  * {
    -webkit-tap-highlight-color: transparent;
  }

  /* Touch-friendly tap targets (minimum 44x44px) */
  button,
  a,
  [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Optimize input fields for mobile */
  input,
  textarea,
  select {
    font-size: 16px !important; /* Prevents iOS zoom on focus */
  }

  /* Better spacing for mobile cards */
  .dashboard-card {
    border-radius: 12px;
    margin-bottom: 12px;
  }

  /* Mobile-optimized padding for main content */
  main > div {
    padding-left: 16px;
    padding-right: 16px;
  }

  /* Reduce excessive whitespace on mobile */
  .section-spacing {
    margin-top: 24px;
    margin-bottom: 24px;
  }

  /* Mobile-friendly grid layouts */
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }

  /* Full-width cards on mobile */
  .insight-card,
  .review-card {
    width: 100%;
  }

  /* Better typography for mobile */
  h1 {
    font-size: 24px;
    line-height: 1.2;
  }

  h2 {
    font-size: 20px;
    line-height: 1.3;
  }

  h3 {
    font-size: 18px;
    line-height: 1.4;
  }

  /* Mobile-optimized buttons */
  button {
    padding: 12px 16px;
    font-size: 16px;
  }

  /* Sticky mobile header */
  header {
    backdrop-filter: blur(10px);
    background-color: rgba(255, 255, 255, 0.95);
  }

  /* Hide scrollbar on mobile but keep functionality */
  ::-webkit-scrollbar {
    display: none;
  }

  * {
    scrollbar-width: none;
  }

  /* Better table responsiveness */
  table {
    display: block;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Mobile-friendly modal/dialog */
  dialog,
  .modal {
    max-width: calc(100vw - 32px);
    max-height: calc(100vh - 64px);
  }

  /* Pull-to-refresh safe area */
  body {
    overscroll-behavior-y: contain;
  }

  /* iOS safe area insets */
  @supports (padding: max(0px)) {
    header {
      padding-left: max(16px, env(safe-area-inset-left));
      padding-right: max(16px, env(safe-area-inset-right));
    }

    main {
      padding-left: max(16px, env(safe-area-inset-left));
      padding-right: max(16px, env(safe-area-inset-right));
      padding-bottom: max(16px, env(safe-area-inset-bottom));
    }
  }
}

/* Small mobile devices (portrait phones) */
@media (max-width: 640px) {
  /* Single column grid on small screens */
  .md\:grid-cols-2,
  .grid-cols-2 {
    grid-template-columns: 1fr !important;
  }

  /* Larger touch targets on small screens */
  button,
  a[role="button"] {
    padding: 14px 18px;
  }

  /* Reduce font sizes slightly on very small screens */
  body {
    font-size: 14px;
  }

  /* Stack horizontal layouts vertically */
  .flex-row {
    flex-direction: column;
  }

  /* Full-width inputs on small screens */
  input,
  select,
  textarea {
    width: 100%;
  }
}

/* Landscape orientation optimizations */
@media (max-width: 1024px) and (orientation: landscape) {
  /* Reduce vertical padding in landscape */
  .section-spacing {
    margin-top: 16px;
    margin-bottom: 16px;
  }

  /* Adjust header height for landscape */
  header {
    height: 56px;
  }

  main {
    padding-top: 56px;
  }
}

/* Dark mode support for mobile */
@media (max-width: 1024px) and (prefers-color-scheme: dark) {
  header {
    background-color: rgba(17, 24, 39, 0.95);
    border-bottom-color: rgb(55, 65, 81);
  }

  .dashboard-card {
    background-color: rgb(31, 41, 55);
    border-color: rgb(55, 65, 81);
  }
}

/* Accessibility: High contrast mode */
@media (prefers-contrast: high) {
  button,
  .card {
    border-width: 2px;
  }
}

/* Accessibility: Reduce motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* PWA-specific styles */
@media all and (display-mode: standalone) {
  /* Hide browser chrome indicators */
  .browser-only {
    display: none;
  }

  /* Add top padding for notch devices */
  header {
    padding-top: env(safe-area-inset-top);
  }

  /* Full viewport height in standalone mode */
  html,
  body {
    height: 100vh;
    height: -webkit-fill-available;
  }
}

/* Touch device specific */
@media (pointer: coarse) {
  /* Increase hover state visibility duration */
  button:active,
  a:active {
    opacity: 0.7;
  }

  /* Remove hover effects on touch devices */
  .hover\:scale-105:hover {
    transform: none;
  }
}

/* High DPI screens (Retina) */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  /* Sharper borders */
  .border {
    border-width: 0.5px;
  }

  /* Crisper text */
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}
